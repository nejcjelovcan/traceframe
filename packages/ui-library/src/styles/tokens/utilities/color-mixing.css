@layer base {
  /**
   * Color Mixing Utilities
   *
   * OKLCH-based color manipulation utilities for color variations.
   * These utilities leverage the color-mix() function to create
   * dynamic color values while maintaining perceptual uniformity.
   *
   * Note: Intermediate shade generation (50, 200, 400, 600, 800, 950)
   * is now handled directly in palette CSS files via color-mix().
   *
   * All mixing operations use OKLCH color space for better results.
   */

  :root {
    /* ===== Shade Generation Utilities ===== */
    /* Mix with white to create lighter shades */
    --mix-lighten-5: color-mix(in oklch, var(--base-color), white 5%);
    --mix-lighten-10: color-mix(in oklch, var(--base-color), white 10%);
    --mix-lighten-15: color-mix(in oklch, var(--base-color), white 15%);
    --mix-lighten-20: color-mix(in oklch, var(--base-color), white 20%);
    --mix-lighten-25: color-mix(in oklch, var(--base-color), white 25%);
    --mix-lighten-30: color-mix(in oklch, var(--base-color), white 30%);
    --mix-lighten-40: color-mix(in oklch, var(--base-color), white 40%);
    --mix-lighten-50: color-mix(in oklch, var(--base-color), white 50%);
    --mix-lighten-60: color-mix(in oklch, var(--base-color), white 60%);
    --mix-lighten-70: color-mix(in oklch, var(--base-color), white 70%);
    --mix-lighten-80: color-mix(in oklch, var(--base-color), white 80%);
    --mix-lighten-90: color-mix(in oklch, var(--base-color), white 90%);

    /* Mix with black to create darker shades */
    --mix-darken-5: color-mix(in oklch, var(--base-color), black 5%);
    --mix-darken-10: color-mix(in oklch, var(--base-color), black 10%);
    --mix-darken-15: color-mix(in oklch, var(--base-color), black 15%);
    --mix-darken-20: color-mix(in oklch, var(--base-color), black 20%);
    --mix-darken-25: color-mix(in oklch, var(--base-color), black 25%);
    --mix-darken-30: color-mix(in oklch, var(--base-color), black 30%);
    --mix-darken-40: color-mix(in oklch, var(--base-color), black 40%);
    --mix-darken-50: color-mix(in oklch, var(--base-color), black 50%);
    --mix-darken-60: color-mix(in oklch, var(--base-color), black 60%);
    --mix-darken-70: color-mix(in oklch, var(--base-color), black 70%);
    --mix-darken-80: color-mix(in oklch, var(--base-color), black 80%);
    --mix-darken-90: color-mix(in oklch, var(--base-color), black 90%);

    /* ===== Theme-Aware Mixing ===== */
    /* Mix with surface color for better integration */
    --mix-with-surface-10: color-mix(in oklch, var(--base-color), var(--color-surface) 10%);
    --mix-with-surface-20: color-mix(in oklch, var(--base-color), var(--color-surface) 20%);
    --mix-with-surface-30: color-mix(in oklch, var(--base-color), var(--color-surface) 30%);
    --mix-with-surface-40: color-mix(in oklch, var(--base-color), var(--color-surface) 40%);
    --mix-with-surface-50: color-mix(in oklch, var(--base-color), var(--color-surface) 50%);

    /* Mix with foreground color for text variations */
    --mix-with-foreground-10: color-mix(in oklch, var(--base-color), var(--color-foreground) 10%);
    --mix-with-foreground-20: color-mix(in oklch, var(--base-color), var(--color-foreground) 20%);
    --mix-with-foreground-30: color-mix(in oklch, var(--base-color), var(--color-foreground) 30%);
    --mix-with-foreground-40: color-mix(in oklch, var(--base-color), var(--color-foreground) 40%);
    --mix-with-foreground-50: color-mix(in oklch, var(--base-color), var(--color-foreground) 50%);

    /* ===== Opacity Utilities ===== */
    /* Create semi-transparent versions using OKLCH alpha channel */
    /* Usage: Set --base-color to your color, then use these variables */
    --opacity-5: oklch(from var(--base-color) l c h / 0.05);
    --opacity-10: oklch(from var(--base-color) l c h / 0.1);
    --opacity-15: oklch(from var(--base-color) l c h / 0.15);
    --opacity-20: oklch(from var(--base-color) l c h / 0.2);
    --opacity-25: oklch(from var(--base-color) l c h / 0.25);
    --opacity-30: oklch(from var(--base-color) l c h / 0.3);
    --opacity-40: oklch(from var(--base-color) l c h / 0.4);
    --opacity-50: oklch(from var(--base-color) l c h / 0.5);
    --opacity-60: oklch(from var(--base-color) l c h / 0.6);
    --opacity-70: oklch(from var(--base-color) l c h / 0.7);
    --opacity-80: oklch(from var(--base-color) l c h / 0.8);
    --opacity-90: oklch(from var(--base-color) l c h / 0.9);

    /* ===== Saturation Utilities ===== */
    /* Adjust chroma while maintaining lightness and hue */
    --desaturate-10: oklch(from var(--base-color) l calc(c * 0.9) h);
    --desaturate-20: oklch(from var(--base-color) l calc(c * 0.8) h);
    --desaturate-30: oklch(from var(--base-color) l calc(c * 0.7) h);
    --desaturate-40: oklch(from var(--base-color) l calc(c * 0.6) h);
    --desaturate-50: oklch(from var(--base-color) l calc(c * 0.5) h);
    --desaturate-75: oklch(from var(--base-color) l calc(c * 0.25) h);
    --desaturate-full: oklch(from var(--base-color) l 0 h);

    --saturate-10: oklch(from var(--base-color) l calc(c * 1.1) h);
    --saturate-20: oklch(from var(--base-color) l calc(c * 1.2) h);
    --saturate-30: oklch(from var(--base-color) l calc(c * 1.3) h);
    --saturate-40: oklch(from var(--base-color) l calc(c * 1.4) h);
    --saturate-50: oklch(from var(--base-color) l calc(c * 1.5) h);

    /* ===== Hue Rotation Utilities ===== */
    /* Rotate hue for creating color variations */
    --rotate-hue-15: oklch(from var(--base-color) l c calc(h + 15));
    --rotate-hue-30: oklch(from var(--base-color) l c calc(h + 30));
    --rotate-hue-45: oklch(from var(--base-color) l c calc(h + 45));
    --rotate-hue-60: oklch(from var(--base-color) l c calc(h + 60));
    --rotate-hue-90: oklch(from var(--base-color) l c calc(h + 90));
    --rotate-hue-120: oklch(from var(--base-color) l c calc(h + 120));
    --rotate-hue-180: oklch(from var(--base-color) l c calc(h + 180));
    --rotate-hue-neg-15: oklch(from var(--base-color) l c calc(h - 15));
    --rotate-hue-neg-30: oklch(from var(--base-color) l c calc(h - 30));
    --rotate-hue-neg-45: oklch(from var(--base-color) l c calc(h - 45));
    --rotate-hue-neg-60: oklch(from var(--base-color) l c calc(h - 60));
    --rotate-hue-neg-90: oklch(from var(--base-color) l c calc(h - 90));
  }
}
